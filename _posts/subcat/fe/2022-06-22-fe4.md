---
layout: post
title: ì½œë°± ì§€ì˜¥ì—ì„œ íƒˆì¶œí•˜ê¸°
description: >
    ì½œë°± ì§€ì˜¥ì—ì„œ íƒˆì¶œí•˜ê¸° ìŠ¤í„°ë””
sitemap: false
hide_last_modified: false
categories:
  - subcat
  - fe
---

## ğŸ“Œì½œë°± ì§€ì˜¥ì´ë€ ë¬´ì—‡ì¼ê¹Œ?
~~~
step1(function (value1) {
  step2(function (value2) {
    step3(function (value3) {
      step4(function (value4) {
        step5(function (value5) {
          step6(function (value6) {
            step7(function (value7) {
                console.log(value7);
              })
            })
          })
        })
      })
    })
  })
~~~
ìœ„ ì½”ë“œì²˜ëŸ¼ ì—°ì†ëœ ë¹„ë™ê¸°í•¨ìˆ˜ë¥¼ ì²˜ë¦¬í•  ë•Œ ë¹„ë™ê¸°ì˜ ì²˜ë¦¬ê°’ì„ ì‚¬ìš©í•  ë•Œ ê³„ì† ì½œë°±í•¨ìˆ˜ê°€ ê¹Šì–´ì§€ëŠ” ê²ƒì´ë‹¤.

## ğŸ“Œì½œë°± ì§€ì˜¥ì—ì„œ íƒˆì¶œí•˜ê¸°


![ê·¸ë¦¼1](/assets/img/blog/study/promise.png)
~~~
Pendingì€ ëŒ€ê¸°ìƒíƒœë¡œ í˜„ì¬ ë¹„ë™ê¸° ì‘ì—…ì´ ì§„í–‰ ì¤‘ì´ê±°ë‚˜ ì‹œì‘í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

FulfilledëŠ” ì´í–‰ ë˜ëŠ” ì„±ê³µ ìƒíƒœë¡œ ë¹„ë™ê¸° ì‘ì—…ì´ ì˜ë„í•œëŒ€ë¡œ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œëœ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

RejectedëŠ” ê±°ë¶€ ë˜ëŠ” ì‹¤íŒ¨í–ˆë‹¤ëŠ” ìƒíƒœë¡œ ë¹„ë™ê¸° ì‘ì—…ì´ ëª¨ì¢…ì˜ ì´ìœ ë¡œ ì‹¤íŒ¨í–ˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.
ex) ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜¤ë˜ê±¸ë ¤ì„œ ìë™ìœ¼ë¡œ ì·¨ì†Œ

Pending ìƒíƒœì—ì„œ Fulfilledë¡œ ë˜ëŠ” ê³¼ì •ì„ resolve, Pendingì—ì„œ Rejectedê°€ ë˜ë©´ rejectë¼ê³  í•œë‹¤.
~~~

#### í•œ ë²ˆ í•´ë³´ê¸°
~~~
function inPositive(number, resolve, reject) {
  setTimeout(()=> {
    if(typeof number === 'number') {
      //ì„±ê³µ -> resolve
      resolve(number >=0 ? "ì–‘ìˆ˜" : "ìŒìˆ˜");
    } esle {
      //ì‹¤íŒ¨ -> reject
      reject("ì£¼ì–´ì§„ ê°’ì´ ìˆ«ìí˜• ê°’ì´ ì•„ë‹™ë‹ˆë‹¤");
    }
  }, 2000)
}
~~~
ê¸°ë³¸
~~~
isPositive(10, (res)=>{
  console.log('ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë¨ : ', res);
  }, (err)=>{
    console.log('ì‹¤íŒ¨í•˜ì˜€ìŒ : ', err);
    });
~~~
ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë¨ : ì–‘ìˆ˜
~~~

isPositive([], (res)=>{
  console.log('ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë¨ : ', res);
  }, (err)=>{
    console.log('ì‹¤íŒ¨í•˜ì˜€ìŒ : ', err);
    });
~~~
ì‹¤íŒ¨í•˜ì˜€ìŒ : ì£¼ì–´ì§„ ê°’ì´ ìˆ«ìí˜• ê°’ì´ ì•„ë‹˜ë‹ˆë‹¤

#### Promiseë¥¼ í™œìš©í•˜ê¸°

~~~
function isPositiveP (number) {
  const executor = (resolve, reject) => { // executor = ì‹¤í–‰ì
    setTimeout(() => {
      setTimeout(()=> {
        if(typeof number === 'number') {
          //ì„±ê³µ -> resolve
          resolve(number >=0 ? "ì–‘ìˆ˜" : "ìŒìˆ˜");
        } esle {
          //ì‹¤íŒ¨ -> reject
          reject("ì£¼ì–´ì§„ ê°’ì´ ìˆ«ìí˜• ê°’ì´ ì•„ë‹™ë‹ˆë‹¤");
        }
      }, 2000);
  };

  const asyncTask = new Promise(executor);
  return asyncTask;
}

const res = isPositive(101);

res
  .then((res)=> {
    console.log('ì‘ì—… ì„±ê³µ : ', res);
    })
    .catch((err) => {
      console.log("ì‘ì—… ì‹¤íŒ¨ : ", err);
      });
~~~

#### ë™ê¸°, ë¹„ë™ê¸° ë•Œ ì¼ë˜ ì½”ë“œë¥¼ Promiseë¡œ ë°”ê¿”ë³´ê¸°
~~~
 function taskA(a, b, cb) {
   setTimeout(() => {
     const res = a + b;
     cb(res);
     }, 3000);
 }

 function taskB(a, cb) {
   setTimeout(() => {
     const res = a * 2;
     cb(res);
     }, 1000);
 }

 function taskC(a, cb) {
   setTimeout(() => {
     const res = a * -1;
     cb(res);
     }, 2000);
 }

-----------------------
 taskA(3, 4, (a_res)=> {
   console.log('taskA: ', a_res);
   taskB(a_res, (b_res)=> {
     console.log('taskB: ', b_res);
     taskC(b_res, (c_res)=> {
       console.log('taskC: ', c_res);
       })
     })
   });
//ì½œë°± ì§€ì˜¥ ì‹
-----------------------
 ~~~
